<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Site Quick Checker — Meadow Pathways</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;margin:18px;background:#fbfdff;color:#0b233f}
    h1{margin:0 0 12px}
    .grid{display:grid;gap:10px;grid-template-columns:1fr 120px;max-width:980px}
    .item{padding:12px;border-radius:10px;background:#fff;border:1px solid rgba(11,35,64,0.06);box-shadow:0 6px 18px rgba(11,35,64,0.03)}
    .status{font-weight:700;display:inline-block;padding:6px 8px;border-radius:8px}
    .ok{background:#e6ffef;color:#0b6623;border:1px solid rgba(11,35,64,0.04)}
    .no{background:#fff1f0;color:#8b1d1d;border:1px solid rgba(11,35,64,0.04)}
    .note{font-size:0.92rem;color:#475569;margin-top:8px}
    button{margin-top:14px;padding:10px 12px;border-radius:8px;border:none;background:#ff7a2d;color:#fff;font-weight:700;cursor:pointer}
  </style>
</head>
<body>
  <h1>Meadow Pathways — Quick site checker</h1>
  <p class="note">This tool tests that pages and key assets return a successful HTTP response from the same origin. Open this file from your site root (e.g., http://localhost:5500/check-site.html or https://your-site/check-site.html).</p>

  <div id="results"></div>

  <button id="run">Run checks</button>

  <script>
    (function(){
      const CHECKS = [
        {label:'Home (index.html)', url:'index.html'},
        {label:'About (about.html)', url:'about.html'},
        {label:'EOTAS (eotas.html)', url:'eotas.html'},
        {label:'Safeguarding (safeguarding.html)', url:'safeguarding.html'},
        {label:'Staff (staff.html)', url:'staff.html'},
        {label:'Staff Rota (staff-rota.html)', url:'staff-rota.html'},
        {label:'Passwords Index (passwords.html)', url:'passwords.html'},
        {label:'Protected Resources (protected-resources.html)', url:'protected-resources.html'},
        {label:'Referral (referral.html)', url:'referral.html'},
        {label:'Contact (contact.html)', url:'contact.html'},
        {label:'Logo (Logo.png)', url:'Logo.png'},
        {label:'BG (BG.png)', url:'BG.png'},
        {label:'Carousel sample (Bake.jpg)', url:'Bake.jpg'},
        {label:'Formspree endpoint (POST check)', url:'https://formspree.io/f/movnvzqp', method:'HEAD'}
      ];

      const resultsEl = document.getElementById('results');
      const runBtn = document.getElementById('run');

      function makeRow(check){
        const wrapper = document.createElement('div');
        wrapper.className = 'grid';
        const left = document.createElement('div');
        left.className = 'item';
        left.innerHTML = '<strong>'+check.label+'</strong><div class="note">'+check.url+'</div>';
        const right = document.createElement('div');
        right.className = 'item';
        right.style.display = 'flex';
        right.style.alignItems = 'center';
        right.style.justifyContent = 'center';
        right.innerHTML = '<span class="status">Checking…</span>';
        wrapper.appendChild(left);
        wrapper.appendChild(right);
        resultsEl.appendChild(wrapper);
        return {wrapper,right};
      }

      function setStatus(el, ok, message){
        const span = el.querySelector('.status');
        span.textContent = message || (ok ? 'OK' : 'Missing');
        span.className = 'status ' + (ok ? 'ok' : 'no');
      }

      async function runChecks(){
        resultsEl.innerHTML = '';
        for (const check of CHECKS){
          const row = makeRow(check);
          try {
            const opts = {method: check.method || 'GET', mode:'no-cors'};
            // Try fetch. Use timeout to avoid long waits.
            const controller = new AbortController();
            const id = setTimeout(()=> controller.abort(), 7000);
            const resp = await fetch(check.url, {method: opts.method, signal: controller.signal});
            clearTimeout(id);
            // If no-cors mode prevents status reading, treat as likely OK when fetch resolves.
            if (resp && (resp.ok || resp.type === 'opaque')) {
              setStatus(row.right, true, 'OK');
            } else {
              setStatus(row.right, false, 'Missing');
            }
          } catch (err) {
            setStatus(row.right, false, 'Missing');
          }
        }

        // Summary
        const summary = document.createElement('div');
        summary.style.marginTop='16px';
        summary.className='item';
        summary.innerHTML = '<strong>Check complete</strong><p class="note">If a file shows "Missing", verify the filename, path, and that it is uploaded to your server. For Formspree results, ensure the endpoint is correct and your server allows outbound requests.</p>';
        resultsEl.appendChild(summary);
      }

      runBtn.addEventListener('click', runChecks);
    })();
  </script>
</body>
</html>
