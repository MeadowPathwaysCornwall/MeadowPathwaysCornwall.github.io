/* ---------------------------
   Smooth Scroll for internal links
--------------------------- */
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
  anchor.addEventListener('click', function(e){
    e.preventDefault();
    document.querySelector(this.getAttribute('href')).scrollIntoView({
      behavior: 'smooth'
    });
  });
});

/* ---------------------------
   Staff Page Password Unlock
--------------------------- */
const PASSWORD = 'MPWEC!';
const lockedEl = document.getElementById('locked');
const staffPanel = document.getElementById('staffPanel');
const unlockBtn = document.getElementById('unlockBtn');
const pwdInput = document.getElementById('staffPassword');

if (unlockBtn) {
  unlockBtn.addEventListener('click', unlock);
}

function unlock() {
  if (!pwdInput) return;
  const val = (pwdInput.value || '').trim();
  if (val === PASSWORD) {
    if (lockedEl) lockedEl.style.display = 'none';
    if (staffPanel) staffPanel.style.display = 'block';
    if (lockedEl) lockedEl.setAttribute('aria-hidden', 'true');
    if (staffPanel) staffPanel.setAttribute('aria-hidden', 'false');
    const firstInput = document.querySelector('#staff-name');
    if (firstInput) firstInput.focus();
  } else {
    pwdInput.value = '';
    pwdInput.focus();
    alert('Incorrect password. If you need access, please contact Michelle or Zoe.');
  }
}

/* ---------------------------
   Auto Focus First Input in Forms
--------------------------- */
document.addEventListener('DOMContentLoaded', () => {
  const firstInput = document.querySelector('form input, form textarea, form select');
  if (firstInput) firstInput.focus();
});
