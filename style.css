// Carousel functionality
const carouselImages = document.querySelectorAll(".carousel-inner img");
let activeImage = 0;

function changeImage() {
  // Remove the "active" class from the current image
  carouselImages[activeImage].classList.remove("active");
  
  // Move to the next image, looping back to the first image at the end
  activeImage = (activeImage + 1) % carouselImages.length;

  // Add the "active" class to the new image
  carouselImages[activeImage].classList.add("active");
}

// Change image every 3 seconds
setInterval(changeImage, 3000);

// Make the first image visible initially
carouselImages[activeImage].classList.add("active");

// Navigation link active styling
const links = document.querySelectorAll('.side-nav a');
links.forEach(link => {
  link.addEventListener('click', function() {
    // Remove "active" class from all navigation links
    links.forEach(link => link.classList.remove('active'));

    // Add "active" class to the clicked navigation link
    this.classList.add('active');
  });
});

// Add event listeners to the links on page load to highlight the active link based on the current page
document.addEventListener("DOMContentLoaded", () => {
  const currentPage = window.location.pathname;
  links.forEach(link => {
    if (link.href.includes(currentPage)) {
      link.classList.add('active');
    }
  });
});

// QR Section visibility logic (only show on homepage)
if (document.body.classList.contains("home")) {
  document.querySelector(".qr-section").style.display = "block";
} else {
  document.querySelector(".qr-section").style.display = "none";
}

// Optional: Password protection for certain pages (such as the staff page)
if (window.location.pathname === "/staff.html") {
  const password = prompt("Please enter the password to access this page:");
  if (password !== "yourPassword") {
    alert("Access denied!");
    window.location.href = "index.html"; // Redirect back to the homepage if the password is wrong
  }
}
