<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Staff — Meadow Pathways Wellbeing and Education Cornwall</title>
  <link rel="stylesheet" href="style.css" />
  <meta name="robots" content="noindex" />
</head>
<body>

  <a class="skip-link" href="#main">Skip to content</a>

  <header class="site-header container">
    <div class="logo-wrap">
      <a href="index.html" class="brand" aria-label="Meadow Pathways home">
        <img src="Logo.png" alt="Meadow Pathways Logo" class="logo" />
      </a>
    </div>

    <nav class="primary-nav" aria-label="Primary navigation">
      <ul class="nav-tabs">
        <li><a href="index.html">Home</a></li>
        <li><a href="about.html">About Us</a></li>
        <li><a href="eotas.html">EOTAS</a></li>
        <li><a href="safeguarding.html">Safeguarding</a></li>
        <li><a class="active" href="staff.html">Staff</a></li>
        <li><a href="referral.html">Referral</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </nav>
  </header>

  <main id="main" class="container">
    <section class="hero" aria-labelledby="hero-title">
      <div class="hero-card">
        <h1 id="hero-title" class="accent">Staff Area — Meadow Pathways</h1>
        <p class="lead">Enter the staff passcode to access rota documents, hours logging, policy downloads and internal resources.</p>
      </div>
    </section>

    <div id="locked" class="locked-overlay" aria-hidden="false">
      <div class="lock-box" role="dialog" aria-labelledby="lock-title">
        <h2 id="lock-title">Staff access required</h2>
        <p class="staff-meta">This area contains protected operational documents. Enter the staff passcode to continue.</p>

        <div class="staff-controls">
          <input id="staffPassword" type="password" aria-label="Staff password" placeholder="Enter staff passcode" />
          <button id="unlockBtn" type="button" class="btn btn-primary">Unlock</button>
        </div>

        <div style="margin-top:10px;font-size:0.95rem;color:var(--text-soft)">
          If you have trouble accessing this area, contact Michelle or Zoe.
        </div>
      </div>
    </div>

    <section id="staffPanel" class="staff-panel" aria-hidden="true">
      <div class="welcome-card">
        <h2 class="accent">Staff Hub</h2>
        <p class="staff-meta">Welcome. Use the quick links below for rota, protected documents, and internal forms. Remember: this client-side gate is for convenience only. Store sensitive files in server-side protected folders or a private cloud with restricted access.</p>
      </div>

      <section class="policy-card" aria-labelledby="quick-links">
        <h3 id="quick-links">Quick links</h3>
        <div class="policy-pills" aria-label="Staff quick links">
          <a href="staff-rota.html" class="pill">Staff rota</a>
          <a href="passwords.html" class="pill">Passwords index</a>
          <a href="protected-resources.html" class="pill">Protected resources</a>
          <a href="private/MPWEC Safeguarding and Child Protection Policy Sep 2025.docx" class="pill" download>Safeguarding policy (DOCX)</a>
          <a href="private/MPWEC Staff Conduct Policy.docx" class="pill" download>Staff conduct (DOCX)</a>
        </div>
      </section>

      <section class="policy-card" aria-labelledby="hours-title">
        <h3 id="hours-title">Hours Logged</h3>
        <p class="staff-meta">Use the form below to record session time. Submissions are sent to the Meadow Pathways inbox via Formspree.</p>

        <form id="hoursForm" action="https://formspree.io/f/movnvzqp" method="POST" novalidate>
          <input type="hidden" name="_subject" value="Hours logged - Meadow Pathways Staff" />
          <input type="hidden" name="_language" value="en" />
          <input type="hidden" name="_captcha" value="false" />

          <label for="staff-name">Staff member name</label>
          <input id="staff-name" name="staff_name" type="text" required />

          <label for="date-worked">Date</label>
          <input id="date-worked" name="date_worked" type="date" required />

          <label for="duration">Duration (hours)</label>
          <input id="duration" name="duration_hours" type="number" step="0.25" min="0" required />

          <label for="client">Client / session with</label>
          <input id="client" name="client_name" type="text" />

          <label for="notes">Brief notes</label>
          <textarea id="notes" name="notes" rows="4"></textarea>

          <label for="email-staff">Staff email</label>
          <input id="email-staff" name="staff_email" type="email" value="Michelle.Pascoe@meadowpathwayscornwall.com" required />

          <div style="margin-top:12px;">
            <button type="submit" class="btn btn-primary">Submit hours</button>
            <div id="hoursStatus" class="status-inline" role="status" aria-live="polite"></div>
          </div>
        </form>
      </section>

      <section class="policy-card" aria-labelledby="contacts-title">
        <h3 id="contacts-title">Staff Contacts</h3>
        <p><strong>Michelle</strong> — <a href="tel:07932243358">07932 243358</a> — <a href="mailto:Michelle.Pascoe@meadowpathwayscornwall.com">Michelle.Pascoe@meadowpathwayscornwall.com</a></p>
        <p><strong>Zoe</strong> — <a href="tel:07775733587">07775 733587</a> — <a href="mailto:Zoe.Waitz@meadowpathwayscornwall.com">Zoe.Waitz@meadowpathwayscornwall.com</a></p>
        <p><strong>General inbox</strong> — <a href="mailto:meadowpathwayscornwall@outlook.com">meadowpathwayscornwall@outlook.com</a></p>
      </section>
    </section>
  </main>

  <button id="backToTop" class="back-to-top" aria-label="Back to top">↑</button>

  <footer class="site-footer container">
    <div class="footer-inner">
      <p>© Meadow Pathways Cornwall</p>
    </div>
  </footer>

  <script>
    (function () {
      // Change this passcode before use
      const PASSWORD = 'MPWEC!';
      const lockedEl = document.getElementById('locked');
      const staffPanel = document.getElementById('staffPanel');
      const unlockBtn = document.getElementById('unlockBtn');
      const pwdInput = document.getElementById('staffPassword');

      function unlock() {
        const val = (pwdInput.value || '').trim();
        if (val === PASSWORD) {
          lockedEl.style.display = 'none';
          staffPanel.style.display = 'block';
          lockedEl.setAttribute('aria-hidden', 'true');
          staffPanel.setAttribute('aria-hidden', 'false');
          document.getElementById('staff-name').focus();
          sessionStorage.setItem('mp_staff_unlocked','1');
        } else {
          pwdInput.value = '';
          pwdInput.focus();
          const orig = pwdInput.placeholder;
          pwdInput.placeholder = 'Incorrect passcode';
          setTimeout(()=> pwdInput.placeholder = orig, 1400);
        }
      }

      unlockBtn.addEventListener('click', unlock);
      pwdInput.addEventListener('keydown', function(e){ if (e.key === 'Enter') unlock(); });

      if (sessionStorage.getItem('mp_staff_unlocked') === '1') {
        lockedEl.style.display = 'none';
        staffPanel.style.display = 'block';
        lockedEl.setAttribute('aria-hidden', 'true');
        staffPanel.setAttribute('aria-hidden', 'false');
      }

      // Hours form feedback
      const hoursForm = document.getElementById('hoursForm');
      const hoursStatus = document.getElementById('hoursStatus');
      if (hoursForm) {
        hoursForm.addEventListener('submit', function(){
          hoursStatus.textContent = 'Sending…';
          setTimeout(()=> hoursStatus.textContent = 'If your browser redirects, your submission has been sent. Check your email for confirmation.', 1200);
        });
      }

      // Back to top
      const backBtn = document.getElementById('backToTop');
      function showHide(){ if(window.scrollY > 300) backBtn.classList.add('visible'); else backBtn.classList.remove('visible'); }
      backBtn.addEventListener('click', ()=> window.scrollTo({top:0,behavior:'smooth'}));
      window.addEventListener('scroll', showHide);
      document.addEventListener('DOMContentLoaded', showHide);
    })();
  </script>
</body>
</html>
