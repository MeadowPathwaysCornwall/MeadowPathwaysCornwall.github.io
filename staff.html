<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Staff — Meadow Pathways (Protected)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="bootstrap.min.css">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <a class="skip-link" href="#main">Skip to content</a>
  <div class="site-wrapper">
    <aside class="sidebar"><div class="sidebar-top"><img src="Logo.png" alt="logo" class="logo-small"><h1 class="brand">Meadow Pathways</h1></div>
      <nav class="side-nav"><ul><li><a href="index.html">Home</a></li><li><a href="staff.html" class="active">Staff</a></li></ul></nav>
      <footer class="sidebar-foot"><small>© 2025 Meadow Pathways</small></footer>
    </aside>

    <main id="main" class="main-content">
      <section class="container">
        <h1>Staff (protected)</h1>

        <div id="locked" class="card">
          <p>This page is for Meadow Pathways staff. Enter the access password to view protected resources.</p>
          <label for="staffPassword">Password</label>
          <input id="staffPassword" type="password" aria-label="Staff password">
          <div class="actions"><button id="unlockBtn" class="pill">Unlock</button></div>
        </div>

        <div id="staffPanel" style="display:none;margin-top:14px;">
          <section class="card" style="padding:14px;background:#fff;color:#183233;">
            <h2>Internal resources</h2>
            <ul>
              <li><a href="MPWEC Safeguarding and Child Protection Policy Sep 2025.docx" download>Safeguarding &amp; Child Protection Policy</a></li>
              <li><a href="MPWEC H&S Policy Sep 25.docx" download>H&S Policy</a></li>
              <li><a href="MPWEC Lone Working Policy Sep25.docx" download>Lone Working Policy</a></li>
            </ul>

            <h3>Hours logged</h3>
            <form name="hours" method="POST" data-netlify="true" netlify-honeypot="bot-field" action="/thankyou.html">
              <input type="hidden" name="form-name" value="hours">
              <input type="hidden" name="bot-field">
              <label for="staff-name">Staff member name</label>
              <input id="staff-name" name="staff_name" type="text" required>

              <label for="date-worked">Date</label>
              <input id="date-worked" name="date_worked" type="date" required>

              <label for="duration">Duration (hours)</label>
              <input id="duration" name="duration_hours" type="number" step="0.25" min="0" required>

              <label for="client">Client / session with</label>
              <input id="client" name="client_name" type="text">

              <label for="notes">Brief notes</label>
              <textarea id="notes" name="notes" rows="4"></textarea>

              <label for="email-staff">Staff email</label>
              <input id="email-staff" name="staff_email" type="email" value="Michelle.Pascoe@meadowpathwayscornwall.com" required>

              <div class="actions"><button type="submit" class="pill">Submit hours</button></div>
            </form>
          </section>
        </div>
      </section>
    </main>
  </div>

  <script src="jquery.min.js"></script>
  <script src="script.js"></script>
  <script>
    // Inline unlock behaviour (also implemented in script.js but keep here for immediate UX)
    (function () {
      const PASSWORD = 'MPWEC!';
      const pwdInput = document.getElementById('staffPassword');
      const unlockBtn = document.getElementById('unlockBtn');
      if (unlockBtn) {
        unlockBtn.addEventListener('click', () => {
          if ((pwdInput.value || '').trim() === PASSWORD) {
            document.getElementById('locked').style.display = 'none';
            document.getElementById('staffPanel').style.display = 'block';
            pwdInput.value = '';
            document.getElementById('staff-name').focus();
          } else {
            alert('Incorrect password. If you need access, please contact Michelle or Zoe.');
            pwdInput.value = '';
            pwdInput.focus();
          }
        });
      }
    })();
  </script>
</body>
</html>
